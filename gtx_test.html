<!DOCTYPE HTML>
<html lang="en">
<head>

	<title>KalOnline HTML5</title>

	<style>
		canvas {border: 1px solid black; margin: 0 auto;}
	</style>

	<script src="js/utils.js" type="text/javascript"></script>
	<script src="threejs/build/three.js" type="text/javascript"></script>
	<script src="threejs/examples/js/controls/EditorControls.js" type="text/javascript"></script>
	<script src="threejs/examples/js/loaders/DDSLoader.js" type="text/javascript"></script>
	<script src="loaders/GBLoader.js" type="text/javascript"></script>
	<script src="loaders/GTXLoader.js" type="text/javascript"></script>

</head>
<body>

	<canvas height="480" width="720" id="canvas"></canvas>

	<script type="text/javascript">

		var scene = new THREE.Scene();

		var canvas = document.getElementById('canvas');
		var renderer = new THREE.WebGLRenderer({canvas: canvas});

		var camera = new THREE.PerspectiveCamera(45, canvas.width / canvas.height, 1, 1000);
		camera.position.x = camera.position.y = camera.position.z = 50;
		camera.lookAt(new THREE.Vector3(0, 0, 0));

		var controls = new THREE.EditorControls(camera, canvas);
		controls.addEventListener('change', function () {
			renderer.render(scene, camera);
		});

		var loader = new THREE.GTXLoader();
		var map = loader.load('data/Model/Clothes/tex/Cm_0_a01.gtx', function () {
			renderer.render(scene, camera);
		});

		var geometry = new THREE.PlaneGeometry(50, 50, 5, 5);
		var material = new THREE.MeshBasicMaterial({map: map});
		var mesh = new THREE.Mesh(geometry, material);

		scene.add(mesh);
	</script>


</body>
</html> 